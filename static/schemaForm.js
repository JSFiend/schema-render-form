window.SchemaForm=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=window.Vue},function(e,t,n){"use strict";n.r(t),n.d(t,"SCHEMA_TYPES",(function(){return r})),n.d(t,"INPUT_TYPES",(function(){return o})),n.d(t,"s4",(function(){return a})),n.d(t,"genId",(function(){return l})),n.d(t,"generAttrs",(function(){return u})),n.d(t,"parserSchema",(function(){return s})),n.d(t,"parserItem",(function(){return i})),n.d(t,"SchemaForm",(function(){return d})),n.d(t,"ObjArray",(function(){return f})),n.d(t,"FormItem",(function(){return h})),n.d(t,"Radio",(function(){return v})),n.d(t,"Checkbox",(function(){return y})),n.d(t,"Input",(function(){return g})),n.d(t,"InputNumber",(function(){return b})),n.d(t,"Text",(function(){return x})),n.d(t,"Select",(function(){return S})),n.d(t,"Switch",(function(){return O})),n.d(t,"DatePicker",(function(){return T})),n.d(t,"Color",(function(){return w})),n.d(t,"ToolTip",(function(){return A}));const r=Object.freeze({ARRAY:"array",BOOLEAN:"boolean",INTEGER:"number",NUMBER:"number",OBJECT:"object",STRING:"string",NULL:null}),o=Object.freeze({CHECKBOX:"checkbox",EMAIL:"email",HIDDEN:"hidden",NUMBER:"number",RADIO:"radio",SELECT:"select",SWITCH:"switch",TEXT:"text",TEXTAREA:"textarea",URL:"url"});function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function l(e=""){const t=a()+a();return e?`${e}-${t}`:t}function u(e,t){return{placeholder:e.description,...e.attrs,...t}}function s(e){if(e.oneOf instanceof Array)return e.oneOf=i(e.oneOf),v;if(e.anyOf instanceof Array){if(e.anyOf=i(e.anyOf),"array"!==e.type)throw new Error("多选框的类型必须是数组："+e);return y}return e.enum instanceof Array?(e.enum=i(e.enum),S):e.text?x:"color".includes(e.format)?w:"date".includes(e.format)?T:"boolean".includes(e.type)?O:"string".includes(e.type)?g:"number".includes(e.type)?b:void 0}function i(e){return e.map(e=>"object"!=typeof e?{label:e,value:e}:e)}var c=n(0),p=n.n(c);const m=l("SchemaForm"),d=p.a.extend({name:"op-schemaForm",props:{schema:{type:Object,default:()=>({})},value:{type:[Number,String,Array,Object,Boolean],default:()=>({})},rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},data:()=>({modelValue:{}}),watch:{schema(e,t){this.modelValue={...this.value}}},render(e){const{schema:t,$slots:n}=this,r=Object.keys(t.properties).map(n=>{const r={...t.properties[n],name:n};return e(h,{props:{schema:r,label:r.title,titleHref:r.titleHref||void 0,toolTip:r.toolTip||void 0,required:r.required,rules:r.rules||[],value:this.value[n]},on:{change:this.change}})});return n.default&&n.default.forEach(e=>r.push(e)),e("el-form",{ref:m,props:{...this._props,model:this.modelValue}},r)},methods:{change({key:e,value:t}){this.$set(this.modelValue,e,t),this.$emit("change",this.modelValue)}},created(){this.modelValue={...this.value}}}),f={functional:!0,name:"op-objArray",render(e,t){const{props:{schema:n,schema:{name:r,items:o,defaultNum:a},value:l},listeners:u}=t;"number"==typeof a&&a>0&&l.length!==a&&Array.from({length:a-1},(e,t)=>l.push(JSON.parse(JSON.stringify(l[0]))));let s=l.length;const i=[],c=e(h,{style:{margin:"15px 10px 10px 5px"},props:{schema:{name:"num",type:"number",title:"数量",attrs:{min:1}},value:s},on:{change(e){const t=JSON.parse(JSON.stringify(l[l.length-1]));e.value>s?Array.from({length:e.value-s},(e,n)=>l.push(t)):s>1&&e.value<s&&Array.from({length:s-e.value},(e,t)=>l.pop()),s=e.value,u.change({key:r,value:l})}}});for(let t=0;t<s;t+=1){const n=Object.keys(o.properties).map(n=>{const a={...o.properties[n],name:n};return e(h,{style:{margin:"5px 10px 10px 5px"},props:{schema:a,label:a.title,required:a.required,value:l[t][n]},on:{change(e){l[t][e.key]=e.value,u.change({key:r,value:l})}}})}),s=e("div",{class:{separator:!0}},"选项 "+(t+1));(!a||a>1)&&i.push(s),i.push(n)}return e("div",{style:{border:"1px solid #CCCACA",marginBottom:"20px",boxShadow:"1px 1px rgba(0, 0, 0, 0.1)"}},[a?null:c,i])}},h={functional:!0,name:"op-form-item",render(e,t){const{props:{schema:n,value:r},data:o,listeners:a}=t,l=n.title?e(x,{slot:"label",props:{schema:{text:n.title,toolTip:n.toolTip||void 0,attrs:{href:n.titleHref||void 0}}}}):void 0;if("array"===n.type&&n.items&&"object"===n.items.type){return[l,e(f,{props:{schema:n,value:r},on:a})]}const u=e(s(n),{props:{schema:n,value:r},on:a});return e("el-form-item",o,[l,u])}},v={functional:!0,name:"op-radio",render(e,t){const{props:{schema:{name:n,oneOf:r},value:o},listeners:a}=t,l=r.map(t=>e("el-radio",{props:{label:t.value},on:{change(){a.change({key:n,value:t.value})}}},t.label));return e("el-radio-group",{props:{value:o||""}},l)}},y={functional:!0,name:"op-checkbox",render(e,t){const{props:{schema:{anyOf:n,name:r},value:o},listeners:a}=t,l=n.map(t=>e("el-checkbox",{props:{label:t.value},on:{change(){let e=[];e=o.includes(t.value)?o.filter(e=>e!==t.value):[...o,t.value],a.change({key:r,value:e})}}},t.label));return e("el-checkbox-group",{props:{value:o||[]}},l)}},g={functional:!0,name:"op-input",render(e,t){const{props:{schema:n,schema:{name:r},value:o},attrs:a,listeners:l}=t,s=u(n,a);return e("el-input",{props:{...s,value:o||""},attrs:s,on:{input(e){l.change({key:r,value:e})}}})}},b={functional:!0,name:"op-input-number",render(e,t){const{props:{schema:n,schema:{name:r,description:o},value:a},attrs:l,listeners:s}=t,i=u(n,l);return e("el-input-number",{props:{...i,value:a||""},attrs:i,on:{change(e){s.change({key:r,value:e})}}})}},x={functional:!0,name:"text",render(e,t){const{props:{schema:n,schema:{text:r,name:o},value:a},data:l,attrs:s,listeners:i}=t,c=u(n,s),p="label"===l.slot&&n.toolTip?e(A,{props:{toolTip:n.toolTip}}):void 0,m="label"===l.slot&&n.text?":":void 0,d=e("el-link",{props:{...c,value:a||""},attrs:{...c,type:"primary",target:"_blank",underline:!1},style:{fontSize:"12px",fontWeight:"normal"}},[r,p,m]),f=e("span",{props:{...c,value:a||""},style:{fontSize:"12px",fontWeight:"normal"}},[r,p,m]);return c.href?d:f}},S={functional:!0,name:"op-select",render(e,t){const{props:{schema:n,schema:{name:r,enum:o},value:a},attrs:l,listeners:s}=t,i=o.map(t=>e("el-option",{props:{key:t.value,label:t.label,value:t.value}})),c=u(n,l);return e("el-select",{props:{...c,value:a||""},attrs:c,on:{change(e){s.change({key:r,value:e})}}},i)}},O={functional:!0,name:"op-switch",render(e,t){const{props:{schema:n,schema:{name:r},value:o},attrs:a,listeners:l}=t,s=u(n,a);return e("el-switch",{props:{...s,value:o||!1},attrs:s,on:{change(e){l.change({key:r,value:e})}}})}},k=new Date,T={functional:!0,name:"op-date-picker",render(e,t){const{props:{schema:n,schema:{name:r},value:o},attrs:a,listeners:l}=t,s=u(n,a);return Object.assign(s,{type:n.attrs&&n.attrs.type||"date"}),e("el-date-picker",{props:{...s,value:o||k},attrs:s,on:{change(e){l.change({key:r,value:e.toString()})},input(e,...t){l.change({key:r,value:e.toString()})}}})}},w={functional:!0,name:"op-color",render(e,t){const{props:{schema:n,schema:{name:r},value:o},attrs:a,listeners:l}=t;return e("el-color-picker",{props:{...u(n,a),value:o||""},on:{change(e){l.change({key:r,value:e})}}})}},A={functional:!0,name:"op-toolTip",render(e,t){const{props:{toolTip:n,placement:r}}=t;return e("el-tooltip",{props:{content:n,placement:r||"top"}},[e("i",{class:"el-icon-question el-icon--right",style:{fontSize:"5px",margin:"1px",opacity:"0.8"}})])}};console.log("ab"),"undefined"!=typeof window&&window.Vue&&(console.log("abc"),window.Vue.component("SchemaForm",d))}]).SchemaForm;